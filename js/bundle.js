!function(){"use strict";class e extends Laya.View{constructor(){super()}onEnable(){this.wrap3d=this.getChildByName("wrap3d"),Laya.Scene3D.load("scene/LayaScene_SampleScene/Conventional/SampleScene.ls",Laya.Handler.create(null,e=>{this.wrap3d.addChild(e),this.scene3d=e,this.init3d()}))}init3d(){this.people=this.scene3d.getChildByName("people"),this.camera3d=this.scene3d.getChildByName("Main Camera"),this.camera3d.enableHDR=!1,this.updateCamera(),Laya.timer.frameLoop(1,this,this.onKeyDown)}moveCamera(e){console.log(e);let a=new Laya.Vector3(0,1==e?.1:-.1,0);this.camera3d.transform.rotate(a),this.updateCamera()}onKeyDown(){Laya.KeyBoardManager.hasKeyDown(87)&&this.movePeople(4),Laya.KeyBoardManager.hasKeyDown(83)&&this.movePeople(3),Laya.KeyBoardManager.hasKeyDown(65)&&this.movePeople(1),Laya.KeyBoardManager.hasKeyDown(68)&&this.movePeople(2),Laya.KeyBoardManager.hasKeyDown(81)&&this.moveCamera(1),Laya.KeyBoardManager.hasKeyDown(69)&&this.moveCamera(2)}movePeople(e){let a=new Laya.Vector3;switch(e){case 1:a.x-=.1;break;case 2:a.x+=.1;break;case 3:a.z+=.1;break;case 4:a.z-=.1}this.people.transform.translate(a,!0),this.updateCamera()}updateCamera(){let e=this.people.transform.position;this.camera3d.transform.position=new Laya.Vector3(e.x,e.y+this.people.transform.scale.y/2,e.z),this.people.transform.rotation=this.camera3d.transform.rotation}}var a,t=Laya.Scene,s=Laya.ClassUtils.regClass;!function(e){!function(e){class a extends t{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("test/TestScene")}}e.TestSceneUI=a,s("ui.test.TestSceneUI",a)}(e.test||(e.test={}))}(a||(a={}));class n extends a.test.TestSceneUI{constructor(){super();var e=Laya.stage.addChild(new Laya.Scene3D),a=e.addChild(new Laya.Camera(0,.1,100));a.transform.translate(new Laya.Vector3(0,3,3)),a.transform.rotate(new Laya.Vector3(-30,0,0),!0,!1);var t=e.addChild(new Laya.DirectionLight);t.color=new Laya.Vector3(.6,.6,.6),t.transform.worldMatrix.setForward(new Laya.Vector3(1,-1,0));var s=e.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1,1,1)));s.transform.rotate(new Laya.Vector3(0,45,0),!1,!1);var n=new Laya.BlinnPhongMaterial;Laya.Texture2D.load("res/layabox.png",Laya.Handler.create(null,function(e){n.albedoTexture=e})),s.meshRenderer.material=n}}class o{constructor(){}static init(){var a=Laya.ClassUtils.regClass;a("scene/SceneGame.ts",e),a("script/GameUI.ts",n)}}o.width=1920,o.height=1080,o.scaleMode="fixedauto",o.screenMode="none",o.alignV="top",o.alignH="left",o.startScene="scene/SceneGame.scene",o.sceneRoot="",o.debug=!1,o.stat=!1,o.physicsDebug=!1,o.exportSceneToJson=!0,o.init();new class{constructor(){window.Laya3D?Laya3D.init(o.width,o.height):Laya.init(o.width,o.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=o.scaleMode,Laya.stage.screenMode=o.screenMode,Laya.stage.alignV=o.alignV,Laya.stage.alignH=o.alignH,Config.useRetinalCanvas=!0,Config.isAntialias=!0,Laya.URL.exportSceneToJson=o.exportSceneToJson,(o.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),o.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),o.stat&&Laya.Stat.show(),Laya.alertGlobalError(!0),Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){Laya.Scene.open("scene/SceneGame.scene")}}}();